{"remainingRequest":"C:\\SSAFY_c_drive\\관통프젝\\vue-board-housedeal(Design)\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SSAFY_c_drive\\관통프젝\\vue-board-housedeal(Design)\\src\\components\\qna\\child\\AnswerRow.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\SSAFY_c_drive\\관통프젝\\vue-board-housedeal(Design)\\src\\components\\qna\\child\\AnswerRow.vue","mtime":1637159201177},{"path":"C:\\SSAFY_c_drive\\관통프젝\\vue-board-housedeal(Design)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637024135363},{"path":"C:\\SSAFY_c_drive\\관통프젝\\vue-board-housedeal(Design)\\node_modules\\babel-loader\\lib\\index.js","mtime":1637024137858},{"path":"C:\\SSAFY_c_drive\\관통프젝\\vue-board-housedeal(Design)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637024135363},{"path":"C:\\SSAFY_c_drive\\관통프젝\\vue-board-housedeal(Design)\\node_modules\\vue-loader\\lib\\index.js","mtime":1637024138415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7DQppbXBvcnQgaHR0cCBmcm9tICJAL3V0aWwvaHR0cC1jb21tb24iOw0KaW1wb3J0IENvbW1lbnRSb3cgZnJvbSAiQC9jb21wb25lbnRzL3FuYS9jaGlsZC9Db21tZW50Um93IjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkFuc3dlclJvdyIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzQ29tbWVudDogZmFsc2UsDQogICAgICBjb21tZW50OiB7DQogICAgICAgIGNubzogbnVsbCwNCiAgICAgICAgdXNlcmlkOiBudWxsLA0KICAgICAgICBjb21tZW50OiAiIiwNCiAgICAgICAgY29tbWVudF90aW1lOiBudWxsLA0KICAgICAgICBhbm86IG51bGwsDQogICAgICB9LA0KICAgICAgY29tbWVudHM6IFtdLA0KICAgIH07DQogIH0sDQogIHByb3BzOiB7DQogICAgYW5vOiBOdW1iZXIsDQogICAgdXNlcmlkOiBTdHJpbmcsDQogICAgYW5zd2VyOiBTdHJpbmcsDQogICAgYW5zd2VydGltZTogU3RyaW5nLA0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgQ29tbWVudFJvdywNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmxpc3RDb21tZW50KCk7DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgbWVzc2FnZSgpIHsNCiAgICAgIGlmICh0aGlzLmFuc3dlcikgcmV0dXJuIHRoaXMuYW5zd2VyLnNwbGl0KCJcbiIpLmpvaW4oIjxicj4iKTsNCiAgICAgIHJldHVybiAiIjsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2V0Q29tbWVudCgpIHsNCiAgICAgIGlmICh0aGlzLmlzQ29tbWVudCAmJiB0aGlzLmNvbW1lbnQuY29tbWVudCAhPT0gIiIpIHsNCiAgICAgICAgdGhpcy53cml0ZUNvbW1lbnQoKTsNCiAgICAgICAgdGhpcy5pc0NvbW1lbnQgPSBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0NvbW1lbnQpIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7DQogICAgICBlbHNlIHRoaXMuaXNDb21tZW50ID0gdHJ1ZTsNCiAgICAgIHJldHVybjsNCiAgICB9LA0KICAgIHdyaXRlQ29tbWVudCgpIHsNCiAgICAgIGlmICh0aGlzLmNvbW1lbnQgPT09ICIiKSByZXR1cm47DQogICAgICB0aGlzLmNvbW1lbnQudXNlcmlkID0gdGhpcy51c2VyaWQ7DQogICAgICB0aGlzLmNvbW1lbnQuYW5vID0gdGhpcy5hbm87DQogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbW1lbnQpOw0KICAgICAgaHR0cA0KICAgICAgICAucG9zdChgL2NvbW1lbnRgLCB7DQogICAgICAgICAgdXNlcmlkOiB0aGlzLmNvbW1lbnQudXNlcmlkLA0KICAgICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudC5jb21tZW50LA0KICAgICAgICAgIGFubzogdGhpcy5jb21tZW50LmFubywNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgICAgaWYgKGRhdGEgPT09ICJzdWNjZXNzIikgew0KICAgICAgICAgICAgdGhpcy5saXN0Q29tbWVudCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB0aGlzLmNvbW1lbnQuY29tbWVudCA9ICIiOw0KICAgIH0sDQogICAgbGlzdENvbW1lbnQoKSB7DQogICAgICBsZXQgYW5vID0gdGhpcy5hbm87DQogICAgICBjb25zb2xlLmxvZyhhbm8pOw0KICAgICAgaHR0cC5nZXQoYC9jb21tZW50LyR7YW5vfWApLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgIHRoaXMuY29tbWVudHMgPSBkYXRhOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbW1lbnRzKTsNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["AnswerRow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AnswerRow.vue","sourceRoot":"src/components/qna/child","sourcesContent":["<template>\r\n  <b-row class=\"mb-1\">\r\n    <b-col>\r\n      <b-card\r\n        :header-html=\"`<div><h6>${userid}님의 답변</div><div>${answertime}</h6></div>`\"\r\n        class=\"mb-2\"\r\n        border-variant=\"dark\"\r\n        no-body\r\n      >\r\n        <b-card-body class=\"text-left\">\r\n          <div v-html=\"message\">${answer}</div>\r\n        </b-card-body>\r\n        <comment-row\r\n          v-for=\"(comment, index) in comments\"\r\n          :key=\"index\"\r\n          v-bind=\"comment\"\r\n        ></comment-row>\r\n        <b-form-input\r\n          id=\"comment\"\r\n          v-if=\"isComment\"\r\n          v-model=\"comment.comment\"\r\n          type=\"text\"\r\n          required\r\n          placeholder=\"제목 입력...\"\r\n          @keyup.enter=\"writeComment\"\r\n        ></b-form-input>\r\n        <b-button size=\"sm\" @click=\"setComment\">댓글쓰기</b-button>\r\n      </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// import moment from \"moment\";\r\nimport http from \"@/util/http-common\";\r\nimport CommentRow from \"@/components/qna/child/CommentRow\";\r\nexport default {\r\n  name: \"AnswerRow\",\r\n  data() {\r\n    return {\r\n      isComment: false,\r\n      comment: {\r\n        cno: null,\r\n        userid: null,\r\n        comment: \"\",\r\n        comment_time: null,\r\n        ano: null,\r\n      },\r\n      comments: [],\r\n    };\r\n  },\r\n  props: {\r\n    ano: Number,\r\n    userid: String,\r\n    answer: String,\r\n    answertime: String,\r\n  },\r\n  components: {\r\n    CommentRow,\r\n  },\r\n  created() {\r\n    this.listComment();\r\n  },\r\n  computed: {\r\n    message() {\r\n      if (this.answer) return this.answer.split(\"\\n\").join(\"<br>\");\r\n      return \"\";\r\n    },\r\n  },\r\n  methods: {\r\n    setComment() {\r\n      if (this.isComment && this.comment.comment !== \"\") {\r\n        this.writeComment();\r\n        this.isComment = false;\r\n      } else if (this.isComment) this.isComment = false;\r\n      else this.isComment = true;\r\n      return;\r\n    },\r\n    writeComment() {\r\n      if (this.comment === \"\") return;\r\n      this.comment.userid = this.userid;\r\n      this.comment.ano = this.ano;\r\n      console.log(this.comment);\r\n      http\r\n        .post(`/comment`, {\r\n          userid: this.comment.userid,\r\n          comment: this.comment.comment,\r\n          ano: this.comment.ano,\r\n        })\r\n        .then(({ data }) => {\r\n          if (data === \"success\") {\r\n            this.listComment();\r\n          }\r\n        });\r\n      this.comment.comment = \"\";\r\n    },\r\n    listComment() {\r\n      let ano = this.ano;\r\n      console.log(ano);\r\n      http.get(`/comment/${ano}`).then(({ data }) => {\r\n        this.comments = data;\r\n        console.log(this.comments);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}